{"version":3,"sources":["../../Finance_api/validation/register.js"],"names":["module","exports","validateRegisterInput","data","errors","name","email","password","password2","Validator","isEmpty","isEmail","isLength","min","max","equals","isValid"],"mappings":";;;;AAAA;;AACA;;AACAA,MAAM,CAACC,OAAP,GAAiB,SAASC,qBAAT,CAA+BC,IAA/B,EAAqC;AACpD,MAAIC,MAAM,GAAG,EAAb,CADoD,CAEtD;;AACED,EAAAA,IAAI,CAACE,IAAL,GAAY,CAAC,yBAAQF,IAAI,CAACE,IAAb,CAAD,GAAsBF,IAAI,CAACE,IAA3B,GAAkC,EAA9C;AACAF,EAAAA,IAAI,CAACG,KAAL,GAAa,CAAC,yBAAQH,IAAI,CAACG,KAAb,CAAD,GAAuBH,IAAI,CAACG,KAA5B,GAAoC,EAAjD;AACAH,EAAAA,IAAI,CAACI,QAAL,GAAgB,CAAC,yBAAQJ,IAAI,CAACI,QAAb,CAAD,GAA0BJ,IAAI,CAACI,QAA/B,GAA0C,EAA1D;AACAJ,EAAAA,IAAI,CAACK,SAAL,GAAiB,CAAC,yBAAQL,IAAI,CAACK,SAAb,CAAD,GAA2BL,IAAI,CAACK,SAAhC,GAA4C,EAA7D,CANoD,CAOtD;;AACE,MAAIC,sBAAUC,OAAV,CAAkBP,IAAI,CAACE,IAAvB,CAAJ,EAAkC;AAChCD,IAAAA,MAAM,CAACC,IAAP,GAAc,wBAAd;AACD,GAVmD,CAWtD;;;AACE,MAAII,sBAAUC,OAAV,CAAkBP,IAAI,CAACG,KAAvB,CAAJ,EAAmC;AACjCF,IAAAA,MAAM,CAACE,KAAP,GAAe,yBAAf;AACD,GAFD,MAEO,IAAI,CAACG,sBAAUE,OAAV,CAAkBR,IAAI,CAACG,KAAvB,CAAL,EAAoC;AACzCF,IAAAA,MAAM,CAACE,KAAP,GAAe,kBAAf;AACD,GAhBmD,CAiBtD;;;AACE,MAAIG,sBAAUC,OAAV,CAAkBP,IAAI,CAACI,QAAvB,CAAJ,EAAsC;AACpCH,IAAAA,MAAM,CAACG,QAAP,GAAkB,4BAAlB;AACD;;AACH,MAAIE,sBAAUC,OAAV,CAAkBP,IAAI,CAACK,SAAvB,CAAJ,EAAuC;AACnCJ,IAAAA,MAAM,CAACI,SAAP,GAAmB,oCAAnB;AACD;;AACH,MAAI,CAACC,sBAAUG,QAAV,CAAmBT,IAAI,CAACI,QAAxB,EAAkC;AAAEM,IAAAA,GAAG,EAAE,CAAP;AAAUC,IAAAA,GAAG,EAAE;AAAf,GAAlC,CAAL,EAA6D;AACzDV,IAAAA,MAAM,CAACG,QAAP,GAAkB,wCAAlB;AACD;;AACH,MAAI,CAACE,sBAAUM,MAAV,CAAiBZ,IAAI,CAACI,QAAtB,EAAgCJ,IAAI,CAACK,SAArC,CAAL,EAAsD;AAClDJ,IAAAA,MAAM,CAACI,SAAP,GAAmB,sBAAnB;AACD;;AACH,SAAO;AACHJ,IAAAA,MAAM,EAANA,MADG;AAEHY,IAAAA,OAAO,EAAE,yBAAQZ,MAAR;AAFN,GAAP;AAIC,CAlCD","sourcesContent":["import Validator from 'validator';\r\nimport isEmpty from 'is-empty';\r\nmodule.exports = function validateRegisterInput(data) {\r\n  let errors = {};\r\n// Convert empty fields to an empty string so we can use validator functions\r\n  data.name = !isEmpty(data.name) ? data.name : \"\";\r\n  data.email = !isEmpty(data.email) ? data.email : \"\";\r\n  data.password = !isEmpty(data.password) ? data.password : \"\";\r\n  data.password2 = !isEmpty(data.password2) ? data.password2 : \"\";\r\n// Name checks\r\n  if (Validator.isEmpty(data.name)) {\r\n    errors.name = \"Name field is required\";\r\n  }\r\n// Email checks\r\n  if (Validator.isEmpty(data.email)) {\r\n    errors.email = \"Email field is required\";\r\n  } else if (!Validator.isEmail(data.email)) {\r\n    errors.email = \"Email is invalid\";\r\n  }\r\n// Password checks\r\n  if (Validator.isEmpty(data.password)) {\r\n    errors.password = \"Password field is required\";\r\n  }\r\nif (Validator.isEmpty(data.password2)) {\r\n    errors.password2 = \"Confirm password field is required\";\r\n  }\r\nif (!Validator.isLength(data.password, { min: 6, max: 30 })) {\r\n    errors.password = \"Password must be at least 6 characters\";\r\n  }\r\nif (!Validator.equals(data.password, data.password2)) {\r\n    errors.password2 = \"Passwords must match\";\r\n  }\r\nreturn {\r\n    errors,\r\n    isValid: isEmpty(errors)\r\n  };\r\n};"],"file":"register.js"}